# アクセシビリティの基礎

[HTML: アクセシビリティの基礎](https://developer.mozilla.org/ja/docs/Learn/Accessibility/HTML)から学ぶ

アクセシビリティにおいてセマンティクスを意識してHTMLを利用することが大事。

JSやCSSで見た目や処理がとても素晴らしいものが出来るかもしれないが、デフォルトで用意されている機能はそもそもアクセシビリティがよく無駄なマークアップをする必要がない状態になっている。

例えば、`<button>`はEnterキーで押下出来たり、button同士をタブキーで移動出来る。これ以外にも以下の利点がある

- 開発しやすい
  - デフォルトで十分な機能が用意されている
- モバイル対応
  - デフォルトでもある程度対応されているため、ファイルサイズを小さく保てる
- SEOにも良い
  - セマンティクスを遵守したページはキーワードの重みが適切につけられるためページが目につきやすくなる(上位にいきやすくなる)

## テキストコンテンツ

a11y-good-semantics-example.htmlをVoiceOverで読んでもらうと分かるが、Webページの内容が結構すんなり入ってくる。

a11y-bad-semantics-example.htmlをVoiceOverで読んでもらうとページをだらだらと読み上げるだけど、文章の区切り(見出しやリストといった意味のあるもの)が分からない

また、CSSやJSを使う時もセレクターによる区別がつけられないため開発効率も良くない。

### 明確な言葉

俗語や不必要な専門用語は聞き手を惑わしてしまうため、一般的な言葉を使うのが良い。他にも以下注意点がある

- 範囲を示すときには、**5から7**と記載する。**5 - 7**と書かない
- 略語は展開する
  - **Jan**ではなく、**January**と書く
- 頭文字を取るような省略は、最初にフルで書いた後に後から略語を適用する
  - **Hypertext Markup LanguageすなわちHTML**と書く

### もう少し長いサンプル
- [良いサンプル: good-semantics](https://mdn.github.io/learning-area/accessibility/html/good-semantics.html)はこちら
- [悪いサンプル: bad-semantics](https://mdn.github.io/learning-area/accessibility/html/bad-semantics.html)はこちら

## UIコントロール

一般的なものだと、ボタン・リンク・フォームが該当する。これらはデフォルトでキーボード操作することが可能になっている。他にも見た目もフォーカスが当たっている部分に変化があったりする。

例えば、

- タブキーでUI間を行き来できる
- Enterキー、スペースキーでボタンを押下出来る
- `<select>`などUIによってはカーソルキーで選択肢間を移動出来る

これらは、`<label>`要素を使って適切にマークアップすることを意味しています。また、labelを使うと

- ラベル領域をクリックしたときに、フォーカスが関連する要素に移動する
- labelと要素を関連付けると、関連要素にフォーカスが合ったときに関連付けたラベルを読み上げるため、該当の要素が何かわかりやすい
  - 例えば、ラベルに明日の天気を入力してください。と入れて、inputと関連付けると、inputにフォーカスが当たったときにラベル名を読み上げてくれる

### タブキーによる移動

`tabindex`属性を使うと本来タブ移動出来ない場所に移動することが出来る

- `tabIndex="0"`
  - 本来タブ移動出来ない場所にタブ移動出来る
- `tabIndex="-1"`
  - 上記のように、移動出来ない場所に対してプログラム的(JS)にアクセスすることが可能となる

ただし、タブキーの移動設定をしてもEnterキーによるボタン押下は出来ないため、それをやりたい場合はJSでの制御が必要となる

## 代替テキスト

テキスト・コンテンツは比較的楽にコンテンツの本質的な部分にアクセスすることが可能ですが、マルチメディア・コンテンツになると難しくなる。

画像・動画は視覚障害者には見えず、音声は聴覚障害者に聞こえない。ここでは、`<img>`要素の画像に関するアクセシビリティを扱う。

imgは文字通り、画像を表示するための要素であり、リンクが切れていることやどんな画像を表示しているか説明する必要がある。そのためには、`alt`属性、`title`属性を適切に使う必要がある。もしくは、`area-labelledby`属性とid属性の組み合わせを使うのも良い。
これは以下のように使うと良い

- alt: 常にスクリーンリーダーで読まれるもの。リンク切れのためという名目で使うことが多いかも知れないが、スクリーンリーダーはalt属性を全て読む。そのため、ここには画像がどんなものが分かるような説明があると良い
  - 例えば、画像がどんな描写を捉えているか、視覚的に伝えたいことは何か
- title: alt属性以外の補足情報をつけたい時に利用する。マウスをホバーするとツールチップが表示されるという特性もある。スクリーンリーダーはこれも読む。

また、area-labelledbyとidを組み合わせたパターンの場合はalt属性が不要となる。altの変わりに`<p>`で説明を入れる必要がある。wai-areaについては[WAI-ARIAの基本](https://developer.mozilla.org/ja/docs/Learn/Accessibility/WAI-ARIA_basics)を参照すると良い。

上記以外に、`<figure>`と`<figcation>`の組み合わせもあるがスクリーンリーダーが全て対応しているわけではないらしい。

### 背景画像

背景画像はalt属性を入れるとノイズになるため、入れないようにした方が良い。altがないと、スクリーンリーダーは画像のURLを全て読み上げる。それを回避するためにalt属性に空文字を設定する。他には、role属性にpresentationという設定をする方法もある。
